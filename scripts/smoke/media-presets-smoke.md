# Media Presets — Smoke Test

## Preconditions
- VR AI Dock dev build runs (`npm run dev:new-ui`).
- Registry содержит хотя бы один web?клиент (например, ChatGPT); адаптеры настроены.
- Нет критичных несохранённых изменений в `userData`.

## Steps
1. **Baseline Fetch**
   - Открыть боковую вкладку **Media Presets**.
   - Проверить, что существующие пресеты отображаются, фильтры (search/kind/tag) работают.

2. **CRUD**
   - Нажать **New Preset**.
   - Заполнить поля: Title, Kind, Prompt/Negative Prompt, Tags, Params (aspect/steps/guidance/seed).
   - Сохранить, убедиться, что карточка появилась и отображает теги/параметры.
   - Отредактировать пресет, сохранить, проверить обновление.
   - Дублировать через **Duplicate**, убедиться в появлении копии `(Copy)`.

3. **Apply — Insert**
   - Выбрать пресет, нажать **Apply**.
   - В модалке оставить выбор по умолчанию, нажать **Insert**.
   - Перейти к целевым вкладкам, убедиться, что текст вставлен (без отправки).

4. **Apply — Insert+Send**
   - Повторить **Apply**, активировать **Insert & Send**.
   - Убедиться, что у каждой вкладки текст отправлен (или есть предупреждения, если адаптер не поддерживает).

5. **Export**
   - Нажать **Export**, сохранить файл `media-presets-export.json`.
   - Проверить содержимое файла (JSON с пресетами).

6. **Import — Overwrite**
   - Удалить один из пресетов.
   - Нажать **Import**, выбрать экспортированный файл.
   - В модалке выбрать **Overwrite**.
   - Убедиться, что удалённый пресет восстановился.

7. **Import — Copy**
   - Нажать **Import** снова, выбрать тот же файл.
   - Выбрать режим **Create copies**.
   - Убедиться, что для каждого пресета появилась копия с новым ID/`(Copy)`.

8. **Warnings/Errors**
   - Отключить адаптер у клиента (или удалить клиента), попробовать Apply > получить warning/ошибку.

9. **Persistence**
   - Перезапустить Dock.
   - Проверить, что созданные и импортированные пресеты на месте.

Smoke ок, если шаги проходят и тосты/диалоги показывают понятные сообщения.
